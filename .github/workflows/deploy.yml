    name: Deploy to Multiple Environments

    on:
      workflow_run:
        workflows: ["Build and Push Docker Image"] # Trigger after image build
        types:
          - completed
      workflow_dispatch: # Allow manual triggering
        
    jobs:
      deploy:
        runs-on: ubuntu-latest
        environment: development # Use selected environment or default
        steps:
          - name: Checkout code
            uses: actions/checkout@v4

          #- name: Pull Docker image
          #  run: docker pull your-docker-username/your-image-name:latest

          - name: Deploy to development
            # Replace with your specific deployment commands for each environment
            # This could involve SSHing to a server, updating a Kubernetes deployment, etc.
            run: echo "Deploying to development..."

        runs-on: ubuntu-latest
        environment: staging # Use selected environment or default
        steps:
          - name: Checkout code
            uses: actions/checkout@v4

          #- name: Pull Docker image
          #  run: docker pull your-docker-username/your-image-name:latest

          - name: Deploy to staging
            # Replace with your specific deployment commands for each environment
            # This could involve SSHing to a server, updating a Kubernetes deployment, etc.
            run: echo "Deploying to production..."